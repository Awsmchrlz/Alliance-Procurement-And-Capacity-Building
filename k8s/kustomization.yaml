# Kustomization file for easy deployment management
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: apcb-system

resources:
  - apcb-deployment.yaml

# Common labels applied to all resources
commonLabels:
  app.kubernetes.io/name: apcb
  app.kubernetes.io/instance: apcb-production
  app.kubernetes.io/version: "2.0.0"
  app.kubernetes.io/component: application
  app.kubernetes.io/part-of: apcb-platform
  app.kubernetes.io/managed-by: kubectl

# Common annotations
commonAnnotations:
  contact: "support@apcb.org"
  documentation: "https://github.com/yourusername/apcb-platform"

# Images to use (can be overridden per environment)
images:
  - name: yourusername/apcb-platform
    newTag: latest

# ConfigMap generator for environment-specific configs
configMapGenerator:
  - name: apcb-config
    behavior: merge
    literals:
      - NODE_ENV=production
      - PORT=3000

# Secret generator (use sealed-secrets or external-secrets in production)
# secretGenerator:
#   - name: apcb-secrets
#     envs:
#       - secrets.env

# Replicas (can be overridden per environment)
replicas:
  - name: apcb-app
    count: 2
